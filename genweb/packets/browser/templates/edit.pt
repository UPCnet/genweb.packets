<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="genweb.packets">
<head>
  <div metal:fill-slot="javascript_head_slot" tal:omit-tag="">
    <!-- <script type="text/javascript"
      tal:attributes="src string:${context/absolute_url}/++genweb++static/js/alertify.min.js">
    </script> -->
  </div>
<!--   <div metal:fill-slot="style_slot" tal:omit-tag="">
    <link rel="stylesheet"
      tal:attributes="href string:${context/absolute_url}/++genweb++static/css/alertify.css">
  </div> -->
</head>

<body class="packet-edit">
 <div metal:fill-slot="main">

  <section tal:define="packets view/getAvailablePacketsInfo"
           tal:condition="packets">
    <tal:available repeat="packet packets">
      <div class="row-fluid">
        <div class="span3">
          <p><strong tal:content="python:packet[1].title"></strong></p>
        </div>
        <div class="span6">
          <p class="muted" tal:content="python:packet[1].description"></p>
        </div>
        <div class="span3">
          <p><a tal:attributes="href python:'#' + packet[0]" role="button" class="btn pull-right" data-toggle="modal">Select</a></p>
        </div>
      </div>
    </tal:available>

    <tal:configmodals repeat="packet packets">
      <form method="POST"
              tal:attributes="action python:context.absolute_url() + '/@@configure'">
        <div class="modal hide fade"
           tal:attributes="id python:packet[0]">
          <input type="hidden" name="packet_type"
                 tal:attributes="value python:packet[0]" />
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h3>Modal header</h3>
          </div>
          <div class="modal-body">
            <tal:fields repeat="field python:packet[1].fields">
                <label tal:content="field">Label name</label>
                <input type="text"
                       tal:attributes="name python:field.lower()" />
            </tal:fields>
          </div>
          <div class="modal-footer">
            <a href="#" class="btn">Close</a>
            <button type="submit" href="#" class="btn btn-primary">Save changes</button>
          </div>
        </div>
      </form>        
    </tal:configmodals>

  </section>
 </div>
</body>
</html>
